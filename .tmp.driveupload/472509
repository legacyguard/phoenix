var e=Object.defineProperty,s=Object.defineProperties,i=Object.getOwnPropertyDescriptors,t=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,r=(s,i,t)=>i in s?e(s,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[i]=t,n=(e,s)=>{for(var i in s||(s={}))a.call(s,i)&&r(e,i,s[i]);if(t)for(var i of t(s))l.call(s,i)&&r(e,i,s[i]);return e},c=(e,t)=>s(e,i(t)),o=(e,s)=>{var i={};for(var r in e)a.call(e,r)&&s.indexOf(r)<0&&(i[r]=e[r]);if(null!=e&&t)for(var r of t(e))s.indexOf(r)<0&&l.call(e,r)&&(i[r]=e[r]);return i},d=(e,s,i)=>new Promise((t,a)=>{var l=e=>{try{n(i.next(e))}catch(s){a(s)}},r=e=>{try{n(i.throw(e))}catch(s){a(s)}},n=e=>e.done?t(e.value):Promise.resolve(e.value).then(l,r);n((i=i.apply(e,s)).next())});import{j as m,b as u,c as x,a as h,e as p,P as v,u as j,a3 as f,a4 as w,aa as _,a9 as g}from"./vendor-ui-DOX-GngI.js";import{r as y}from"./vendor-react-BsuoGMue.js";import{c as b,C as N,a as S,b as D,d as C,e as E,L as P,y as k,z as R,E as q,F,G as $,i as M,I as B,p as O,h as z,U as T,_ as I,A as G,n as K,$ as A,B as U,S as L,a0 as V,j as H,Z as W,a1 as Y,Q as Z,Y as J,t as X}from"./index-Co25CVR3.js";import{P as Q}from"./progress-cOZa_oNl.js";import{R as ee,a as se}from"./radio-group-CnuvYJHY.js";import{u as ie}from"./vendor-i18n-C5HfoztV.js";import{T as te}from"./trash-2-C1c6TJwX.js";import{P as ae}from"./plus-DkHU5iGY.js";import{T as le}from"./textarea-DvJ_jMWI.js";import{B as re}from"./briefcase-CFzSZfRR.js";import{L as ne}from"./LegalConsultationModal-BjPyfXzO.js";import{P as ce}from"./printer-DkzzL1wJ.js";import"./vendor-auth-CQQWOfx5.js";import"./vendor-supabase-DjxWZ-e5.js";import"./vendor-utils-DZ4dNBww.js";import"./calculator-DxsbUfi-.js";
/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=b("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);function de({selectedCountry:e,onSelect:s,testator:i,onTestatorUpdate:t,errors:a}){var l;const{t:r}=ie(),[o,u]=y.useState([]),[x,h]=y.useState(""),[p,v]=y.useState("en"),j={"GB-ENG":[{code:"en",name:"English"}],"GB-WLS":[{code:"en",name:"English"},{code:"cy",name:"Cymraeg (Welsh)"}],"GB-SCT":[{code:"en",name:"English"}],"GB-NIR":[{code:"en",name:"English"}]};return y.useEffect(()=>{!function(){d(this,null,function*(){u([{id:1,country_code:"SK",country_name:"Slovakia",witness_count:2,requires_handwriting:!1,requires_notarization:!1,required_clauses:["identity","revocation","beneficiaries","date","signature"],forbidden_content:[],legal_language:{title:"Závet",identity:"Ja, dolupodpísaný/á {name}, narodený/á {birthDate}, bytom {address}",revocation:"Týmto odvolávam všetky svoje predchádzajúce závety a dodatkové doložky.",beneficiaries:"Odkazujem",signature:"Podpis závetcu",witness:"Svedok",date:"Dátum"},signature_requirements:"Requires either handwriting by testator OR typed with 2 witnesses present at signing"},{id:2,country_code:"CZ",country_name:"Czech Republic",witness_count:2,requires_handwriting:!1,requires_notarization:!1,required_clauses:["identity","revocation","beneficiaries","date","signature","soundMind"],forbidden_content:[],legal_language:{title:"Závěť",identity:"Já, níže podepsaný/á {name}, narozen/a {birthDate}, bytem {address}",revocation:"Tímto odvolávám všechny své předchozí závěti a kodexy.",beneficiaries:"Odkazuji",signature:"Podpis zůstavitele",witness:"Svědek",date:"Datum",soundMind:"prohlašuji, že jsem svéprávný, že jsem způsobilý samostatně právně jednat"},signature_requirements:"Requires either handwriting by testator OR typed with 2 witnesses present at signing"},{id:3,country_code:"GB",country_name:"United Kingdom",witness_count:2,requires_handwriting:!1,requires_notarization:!1,required_clauses:["identity","revocation","beneficiaries","date","signature"],forbidden_content:[],legal_language:{title:"Will",identity:"I {name} of {address}",revocation:"I hereby revoke all former wills and codicils.",beneficiaries:"I give and bequeath",signature:"Testator signature",witness:"Witness",date:"Date"},signature_requirements:"Must be signed in presence of 2 witnesses"}])})}()},[]),m.jsx("div",{className:"space-y-6",children:m.jsxs(N,{children:[m.jsxs(S,{children:[m.jsx(D,{children:r("will.countryRequirements")}),m.jsx(C,{children:e?r("will.selectedCountryDetails",{country:e}):r("will.selectCountry")})]}),m.jsxs(E,{className:"space-y-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(P,{children:r("will.selectCountry")}),m.jsxs(k,{value:e,onValueChange:e=>{const i=o.find(s=>s.country_code===e);i&&("GB"===e?(h(""),v("en")):s(e,i))},children:[m.jsx(R,{id:"country",children:m.jsx(q,{placeholder:r("will.selectCountryPlaceholder")})}),m.jsx(F,{children:o.map(e=>m.jsx($,{value:e.country_code,children:e.country_name},e.id))})]}),a.country&&m.jsxs("p",{className:"text-sm text-destructive mt-1",children:[m.jsx(M,{className:"h-4 w-4 inline mr-1"}),a.country]})]}),"GB"===e&&m.jsxs("div",{className:"space-y-2 mt-4",children:[m.jsx(P,{children:r("will_generator.uk_jurisdiction_title")}),m.jsxs(ee,{value:x,onValueChange:e=>{h(e),v("en");const i=o.find(e=>"GB"===e.country_code);i&&s(e,i)},children:[m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx(se,{value:"GB-ENG",id:"england"}),m.jsx(P,{htmlFor:"england",children:r("will_generator.jurisdiction_england")})]}),m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx(se,{value:"GB-WLS",id:"wales"}),m.jsx(P,{htmlFor:"wales",children:r("will_generator.jurisdiction_wales")})]}),m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx(se,{value:"GB-SCT",id:"scotland"}),m.jsx(P,{htmlFor:"scotland",children:r("will_generator.jurisdiction_scotland")})]}),m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx(se,{value:"GB-NIR",id:"northern-ireland"}),m.jsx(P,{htmlFor:"northern-ireland",children:r("will_generator.jurisdiction_northern_ireland")})]})]}),a.ukJurisdiction&&m.jsxs("p",{className:"text-sm text-destructive mt-1",children:[m.jsx(M,{className:"h-4 w-4 inline mr-1"}),r("will_generator.error_uk_jurisdiction_required")]})]}),x&&(null==(l=j[x])?void 0:l.length)>1&&m.jsxs("div",{className:"space-y-2 mt-4",children:[m.jsx(P,{children:r("will_generator.select_will_language_title")}),m.jsxs(k,{value:p,onValueChange:e=>{v(e);const i=o.find(e=>"GB"===e.country_code);i&&s(x,c(n({},i),{language_code:e}))},children:[m.jsx(R,{children:m.jsx(q,{})}),m.jsx(F,{children:j[x].map(e=>m.jsx($,{value:e.code,children:e.name},e.code))})]})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsx(P,{children:r("will.testatorInfo")}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(P,{htmlFor:"name",children:r("will.name")}),m.jsx(B,{id:"name",value:i.name,onChange:e=>t(c(n({},i),{name:e.target.value})),placeholder:r("will.namePlaceholder")}),a.name&&m.jsx("p",{className:"text-sm text-destructive",children:a.name})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(P,{htmlFor:"birthDate",children:r("will.birthDate")}),m.jsx(B,{id:"birthDate",type:"date",value:i.birthDate,onChange:e=>t(c(n({},i),{birthDate:e.target.value})),placeholder:r("will.birthDatePlaceholder")}),a.birthDate&&m.jsx("p",{className:"text-sm text-destructive",children:a.birthDate})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(P,{htmlFor:"address",children:r("will.address")}),m.jsx(B,{id:"address",value:i.address,onChange:e=>t(c(n({},i),{address:e.target.value})),placeholder:r("will.addressPlaceholder")}),a.address&&m.jsx("p",{className:"text-sm text-destructive",children:a.address})]})]})]})]})})}var me=["PageUp","PageDown"],ue=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],xe={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},he="Slider",[pe,ve,je]=h(he),[fe,we]=x(he,[je]),[_e,ge]=fe(he),ye=y.forwardRef((e,s)=>{const i=e,{name:t,min:a=0,max:l=100,step:r=1,orientation:d="horizontal",disabled:x=!1,minStepsBetweenThumbs:h=0,defaultValue:v=[a],value:j,onValueChange:f=()=>{},onValueCommit:_=()=>{},inverted:g=!1,form:b}=i,N=o(i,["name","min","max","step","orientation","disabled","minStepsBetweenThumbs","defaultValue","value","onValueChange","onValueCommit","inverted","form"]),S=y.useRef(new Set),D=y.useRef(0),C="horizontal"===d?Se:De,[E=[],P]=u({prop:j,defaultProp:v,onChange:e=>{var s;null==(s=[...S.current][D.current])||s.focus(),f(e)}}),k=y.useRef(E);function R(e,s,{commit:i}={commit:!1}){const t=function(e){return(String(e).split(".")[1]||"").length}(r),n=function(e,s){const i=Math.pow(10,s);return Math.round(e*i)/i}(Math.round((e-a)/r)*r+a,t),c=w(n,[a,l]);P((e=[])=>{const t=function(e=[],s,i){const t=[...e];return t[i]=s,t.sort((e,s)=>e-s)}(e,c,s);if(function(e,s){if(s>0){const i=function(e){return e.slice(0,-1).map((s,i)=>e[i+1]-s)}(e);return Math.min(...i)>=s}return!0}(t,h*r)){D.current=t.indexOf(c);const s=String(t)!==String(e);return s&&i&&_(t),s?t:e}return e})}return m.jsx(_e,{scope:e.__scopeSlider,name:t,disabled:x,min:a,max:l,valueIndexToChangeRef:D,thumbs:S.current,values:E,orientation:d,form:b,children:m.jsx(pe.Provider,{scope:e.__scopeSlider,children:m.jsx(pe.Slot,{scope:e.__scopeSlider,children:m.jsx(C,c(n({"aria-disabled":x,"data-disabled":x?"":void 0},N),{ref:s,onPointerDown:p(N.onPointerDown,()=>{x||(k.current=E)}),min:a,max:l,inverted:g,onSlideStart:x?void 0:function(e){const s=function(e,s){if(1===e.length)return 0;const i=e.map(e=>Math.abs(e-s)),t=Math.min(...i);return i.indexOf(t)}(E,e);R(e,s)},onSlideMove:x?void 0:function(e){R(e,D.current)},onSlideEnd:x?void 0:function(){const e=k.current[D.current];E[D.current]!==e&&_(E)},onHomeKeyDown:()=>!x&&R(a,0,{commit:!0}),onEndKeyDown:()=>!x&&R(l,E.length-1,{commit:!0}),onStepKeyDown:({event:e,direction:s})=>{if(!x){const i=me.includes(e.key)||e.shiftKey&&ue.includes(e.key)?10:1,t=D.current;R(E[t]+r*i*s,t,{commit:!0})}}}))})})})});ye.displayName=he;var[be,Ne]=fe(he,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Se=y.forwardRef((e,s)=>{const i=e,{min:t,max:a,dir:l,inverted:r,onSlideStart:d,onSlideMove:u,onSlideEnd:x,onStepKeyDown:h}=i,p=o(i,["min","max","dir","inverted","onSlideStart","onSlideMove","onSlideEnd","onStepKeyDown"]),[v,w]=y.useState(null),_=j(s,e=>w(e)),g=y.useRef(void 0),b=f(l),N="ltr"===b,S=N&&!r||!N&&r;function D(e){const s=g.current||v.getBoundingClientRect(),i=Oe([0,s.width],S?[t,a]:[a,t]);return g.current=s,i(e-s.left)}return m.jsx(be,{scope:e.__scopeSlider,startEdge:S?"left":"right",endEdge:S?"right":"left",direction:S?1:-1,size:"width",children:m.jsx(Ce,c(n({dir:b,"data-orientation":"horizontal"},p),{ref:_,style:c(n({},p.style),{"--radix-slider-thumb-transform":"translateX(-50%)"}),onSlideStart:e=>{const s=D(e.clientX);null==d||d(s)},onSlideMove:e=>{const s=D(e.clientX);null==u||u(s)},onSlideEnd:()=>{g.current=void 0,null==x||x()},onStepKeyDown:e=>{const s=xe[S?"from-left":"from-right"].includes(e.key);null==h||h({event:e,direction:s?-1:1})}}))})}),De=y.forwardRef((e,s)=>{const i=e,{min:t,max:a,inverted:l,onSlideStart:r,onSlideMove:d,onSlideEnd:u,onStepKeyDown:x}=i,h=o(i,["min","max","inverted","onSlideStart","onSlideMove","onSlideEnd","onStepKeyDown"]),p=y.useRef(null),v=j(s,p),f=y.useRef(void 0),w=!l;function _(e){const s=f.current||p.current.getBoundingClientRect(),i=Oe([0,s.height],w?[a,t]:[t,a]);return f.current=s,i(e-s.top)}return m.jsx(be,{scope:e.__scopeSlider,startEdge:w?"bottom":"top",endEdge:w?"top":"bottom",size:"height",direction:w?1:-1,children:m.jsx(Ce,c(n({"data-orientation":"vertical"},h),{ref:v,style:c(n({},h.style),{"--radix-slider-thumb-transform":"translateY(50%)"}),onSlideStart:e=>{const s=_(e.clientY);null==r||r(s)},onSlideMove:e=>{const s=_(e.clientY);null==d||d(s)},onSlideEnd:()=>{f.current=void 0,null==u||u()},onStepKeyDown:e=>{const s=xe[w?"from-bottom":"from-top"].includes(e.key);null==x||x({event:e,direction:s?-1:1})}}))})}),Ce=y.forwardRef((e,s)=>{const i=e,{__scopeSlider:t,onSlideStart:a,onSlideMove:l,onSlideEnd:r,onHomeKeyDown:d,onEndKeyDown:u,onStepKeyDown:x}=i,h=o(i,["__scopeSlider","onSlideStart","onSlideMove","onSlideEnd","onHomeKeyDown","onEndKeyDown","onStepKeyDown"]),j=ge(he,t);return m.jsx(v.span,c(n({},h),{ref:s,onKeyDown:p(e.onKeyDown,e=>{"Home"===e.key?(d(e),e.preventDefault()):"End"===e.key?(u(e),e.preventDefault()):me.concat(ue).includes(e.key)&&(x(e),e.preventDefault())}),onPointerDown:p(e.onPointerDown,e=>{const s=e.target;s.setPointerCapture(e.pointerId),e.preventDefault(),j.thumbs.has(s)?s.focus():a(e)}),onPointerMove:p(e.onPointerMove,e=>{e.target.hasPointerCapture(e.pointerId)&&l(e)}),onPointerUp:p(e.onPointerUp,e=>{const s=e.target;s.hasPointerCapture(e.pointerId)&&(s.releasePointerCapture(e.pointerId),r(e))})}))}),Ee="SliderTrack",Pe=y.forwardRef((e,s)=>{const i=e,{__scopeSlider:t}=i,a=o(i,["__scopeSlider"]),l=ge(Ee,t);return m.jsx(v.span,c(n({"data-disabled":l.disabled?"":void 0,"data-orientation":l.orientation},a),{ref:s}))});Pe.displayName=Ee;var ke="SliderRange",Re=y.forwardRef((e,s)=>{const i=e,{__scopeSlider:t}=i,a=o(i,["__scopeSlider"]),l=ge(ke,t),r=Ne(ke,t),d=y.useRef(null),u=j(s,d),x=l.values.length,h=l.values.map(e=>Be(e,l.min,l.max)),p=x>1?Math.min(...h):0,f=100-Math.max(...h);return m.jsx(v.span,c(n({"data-orientation":l.orientation,"data-disabled":l.disabled?"":void 0},a),{ref:u,style:c(n({},e.style),{[r.startEdge]:p+"%",[r.endEdge]:f+"%"})}))});Re.displayName=ke;var qe="SliderThumb",Fe=y.forwardRef((e,s)=>{const i=ve(e.__scopeSlider),[t,a]=y.useState(null),l=j(s,e=>a(e)),r=y.useMemo(()=>t?i().findIndex(e=>e.ref.current===t):-1,[i,t]);return m.jsx($e,c(n({},e),{ref:l,index:r}))}),$e=y.forwardRef((e,s)=>{const i=e,{__scopeSlider:t,index:a,name:l}=i,r=o(i,["__scopeSlider","index","name"]),d=ge(qe,t),u=Ne(qe,t),[x,h]=y.useState(null),f=j(s,e=>h(e)),w=!x||(d.form||!!x.closest("form")),g=_(x),b=d.values[a],N=void 0===b?0:Be(b,d.min,d.max),S=function(e,s){return s>2?`Value ${e+1} of ${s}`:2===s?["Minimum","Maximum"][e]:void 0}(a,d.values.length),D=null==g?void 0:g[u.size],C=D?function(e,s,i){const t=e/2,a=Oe([0,50],[0,t]);return(t-a(s)*i)*i}(D,N,u.direction):0;return y.useEffect(()=>{if(x)return d.thumbs.add(x),()=>{d.thumbs.delete(x)}},[x,d.thumbs]),m.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[u.startEdge]:`calc(${N}% + ${C}px)`},children:[m.jsx(pe.ItemSlot,{scope:e.__scopeSlider,children:m.jsx(v.span,c(n({role:"slider","aria-label":e["aria-label"]||S,"aria-valuemin":d.min,"aria-valuenow":b,"aria-valuemax":d.max,"aria-orientation":d.orientation,"data-orientation":d.orientation,"data-disabled":d.disabled?"":void 0,tabIndex:d.disabled?void 0:0},r),{ref:f,style:void 0===b?{display:"none"}:e.style,onFocus:p(e.onFocus,()=>{d.valueIndexToChangeRef.current=a})}))}),w&&m.jsx(Me,{name:null!=l?l:d.name?d.name+(d.values.length>1?"[]":""):void 0,form:d.form,value:b},a)]})});Fe.displayName=qe;var Me=y.forwardRef((e,s)=>{var i=e,{__scopeSlider:t,value:a}=i,l=o(i,["__scopeSlider","value"]);const r=y.useRef(null),d=j(r,s),u=g(a);return y.useEffect(()=>{const e=r.current;if(!e)return;const s=window.HTMLInputElement.prototype,i=Object.getOwnPropertyDescriptor(s,"value").set;if(u!==a&&i){const s=new Event("input",{bubbles:!0});i.call(e,a),e.dispatchEvent(s)}},[u,a]),m.jsx(v.input,c(n({style:{display:"none"}},l),{ref:d,defaultValue:a}))});function Be(e,s,i){return w(100/(i-s)*(e-s),[0,100])}function Oe(e,s){return i=>{if(e[0]===e[1]||s[0]===s[1])return s[0];const t=(s[1]-s[0])/(e[1]-e[0]);return s[0]+t*(i-e[0])}}Me.displayName="RadioBubbleInput";var ze=ye,Te=Pe,Ie=Re,Ge=Fe;const Ke=y.forwardRef((e,s)=>{var i=e,{className:t}=i,a=o(i,["className"]);return m.jsxs(ze,c(n({ref:s,className:O("relative flex w-full touch-none select-none items-center",t)},a),{children:[m.jsx(Te,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:m.jsx(Ie,{className:"absolute h-full bg-primary"})}),m.jsx(Ge,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}))});function Ae({beneficiaries:e,onUpdate:s,errors:i}){const{t:t}=ie(),[a,l]=y.useState("percentage"),r=(i,t)=>{s(e.map(e=>e.id===i?n(n({},e),t):e))},o=(i,t)=>{s(e.map(e=>{if(e.id===i){const s=e.allocation.map(e=>"percentage"===e.assetType?c(n({},e),{value:t}):e);return c(n({},e),{allocation:s})}return e}))},d=e.reduce((e,s)=>e+s.allocation.filter(e=>"percentage"===e.assetType).reduce((e,s)=>e+(s.value||0),0),0),u=100===d||0===e.length;return m.jsxs("div",{className:"space-y-6",children:[m.jsxs(N,{children:[m.jsxs(S,{children:[m.jsx(D,{children:t("will.allocation.title")}),m.jsx(C,{children:t("will.allocation.description")})]}),m.jsxs(E,{children:[m.jsxs("div",{className:"mb-6 space-y-2",children:[m.jsxs("div",{className:"flex items-center justify-between text-sm",children:[m.jsx("span",{children:t("will.allocation.total")}),m.jsxs("span",{className:"font-medium "+(u?"text-green-600":"text-destructive"),children:[d,"%"]})]}),m.jsx(Q,{value:Math.min(d,100),className:"h-2 "+(d>100?"[&>div]:bg-destructive":"")}),!u&&d>0&&m.jsxs("p",{className:"text-sm text-destructive flex items-center gap-1",children:[m.jsx(M,{className:"h-3 w-3"}),i.allocation||t("will.validation.allocation100")]})]}),m.jsx("div",{className:"space-y-4",children:e.map((i,l)=>{var n,c;return m.jsx(N,{children:m.jsx(E,{className:"pt-6",children:m.jsx("div",{className:"space-y-4",children:m.jsxs("div",{className:"flex items-start justify-between",children:[m.jsxs("div",{className:"flex-1 space-y-4",children:[m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(P,{htmlFor:`name-${i.id}`,children:t("will.beneficiary.name")}),m.jsx(B,{id:`name-${i.id}`,value:i.name,onChange:e=>r(i.id,{name:e.target.value}),placeholder:t("will.beneficiary.namePlaceholder")})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(P,{htmlFor:`relationship-${i.id}`,children:t("will.beneficiary.relationship")}),m.jsx(B,{id:`relationship-${i.id}`,value:i.relationship,onChange:e=>r(i.id,{relationship:e.target.value}),placeholder:t("will.beneficiary.relationshipPlaceholder")})]})]}),"percentage"===a&&m.jsxs("div",{className:"space-y-2",children:[m.jsx(P,{htmlFor:`allocation-${i.id}`,children:t("will.allocation.percentage")}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx(Ke,{id:`allocation-${i.id}`,value:[(null==(n=i.allocation[0])?void 0:n.value)||0],onValueChange:([e])=>o(i.id,e),min:0,max:100,step:1,className:"flex-1"}),m.jsx("div",{className:"w-16",children:m.jsx(B,{type:"number",value:(null==(c=i.allocation[0])?void 0:c.value)||0,onChange:e=>o(i.id,parseInt(e.target.value)||0),min:0,max:100,className:"text-center"})}),m.jsx("span",{className:"text-sm text-muted-foreground",children:"%"})]})]})]}),m.jsx(z,{variant:"ghost",size:"icon",onClick:()=>{return t=i.id,void s(e.filter(e=>e.id!==t));var t},className:"ml-4",children:m.jsx(te,{className:"h-4 w-4"})})]})})})},i.id)})}),m.jsxs(z,{variant:"outline",onClick:()=>{const i={id:Date.now().toString(),name:"",relationship:"",allocation:[{assetType:"percentage",description:t("will.allocation.generalEstate"),value:0}]};s([...e,i])},className:"w-full mt-4",children:[m.jsx(ae,{className:"mr-2 h-4 w-4"}),t("will.allocation.addBeneficiary")]}),i.beneficiaries&&m.jsxs("p",{className:"text-sm text-destructive mt-2 flex items-center gap-1",children:[m.jsx(M,{className:"h-3 w-3"}),i.beneficiaries]})]})]}),m.jsx(N,{children:m.jsxs(E,{className:"pt-6",children:[m.jsx("h4",{className:"font-medium mb-2",children:t("will.allocation.tips.title")}),m.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[m.jsxs("li",{children:["• ",t("will.allocation.tips.tip1")]}),m.jsxs("li",{children:["• ",t("will.allocation.tips.tip2")]}),m.jsxs("li",{children:["• ",t("will.allocation.tips.tip3")]})]})]})})]})}function Ue({beneficiaries:e,onUpdate:s,errors:i}){const{t:t}=ie(),a=(i,t)=>{s(e.map(e=>e.id===i?n(n({},e),t):e))};return m.jsxs("div",{className:"space-y-6",children:[m.jsxs(N,{children:[m.jsxs(S,{children:[m.jsxs(D,{className:"flex items-center gap-2",children:[m.jsx(T,{className:"h-5 w-5"}),t("will.beneficiaries.title")]}),m.jsx(C,{children:t("will.beneficiaries.description")})]}),m.jsx(E,{children:0===e.length?m.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[m.jsx(T,{className:"h-12 w-12 mx-auto mb-3 text-muted-foreground/50"}),m.jsx("p",{children:t("will.beneficiaries.noBeneficiaries")})]}):m.jsx("div",{className:"space-y-6",children:e.map((e,s)=>m.jsx(N,{children:m.jsx(E,{className:"pt-6",children:m.jsxs("div",{className:"space-y-4",children:[m.jsx("h4",{className:"font-medium",children:t("will.beneficiaries.beneficiaryNumber",{number:s+1})}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(P,{htmlFor:`id-${e.id}`,children:t("will.beneficiaries.identification")}),m.jsx(B,{id:`id-${e.id}`,value:e.identification||"",onChange:s=>a(e.id,{identification:s.target.value}),placeholder:t("will.beneficiaries.identificationPlaceholder")})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(P,{htmlFor:`alt-${e.id}`,children:t("will.beneficiaries.alternativeBeneficiary")}),m.jsx(B,{id:`alt-${e.id}`,value:e.alternativeBeneficiary||"",onChange:s=>a(e.id,{alternativeBeneficiary:s.target.value}),placeholder:t("will.beneficiaries.alternativePlaceholder")})]})]}),m.jsxs("div",{className:"bg-muted/50 rounded-lg p-4",children:[m.jsx("p",{className:"text-sm font-medium mb-2",children:t("will.beneficiaries.currentAllocation")}),e.allocation.map((e,s)=>m.jsx("div",{className:"text-sm text-muted-foreground",children:"percentage"===e.assetType?m.jsxs("span",{children:[e.value,"% ",t("will.beneficiaries.ofEstate")]}):m.jsx("span",{children:e.description})},s))]}),i[`beneficiary_${s}_name`]&&m.jsxs("p",{className:"text-sm text-destructive flex items-center gap-1",children:[m.jsx(M,{className:"h-3 w-3"}),i[`beneficiary_${s}_name`]]}),i[`beneficiary_${s}_relationship`]&&m.jsxs("p",{className:"text-sm text-destructive flex items-center gap-1",children:[m.jsx(M,{className:"h-3 w-3"}),i[`beneficiary_${s}_relationship`]]})]})})},e.id))})})]}),m.jsx(N,{children:m.jsxs(E,{className:"pt-6",children:[m.jsx("h4",{className:"font-medium mb-2",children:t("will.beneficiaries.importantNotes")}),m.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[m.jsxs("li",{children:["• ",t("will.beneficiaries.note1")]}),m.jsxs("li",{children:["• ",t("will.beneficiaries.note2")]}),m.jsxs("li",{children:["• ",t("will.beneficiaries.note3")]})]})]})})]})}function Le({executor:e,onUpdate:s,errors:i}){var t,a,l,r;const{t:c}=ie(),[o,d]=y.useState(!!(null==e?void 0:e.alternativeExecutor)),u=i=>{s(n({name:(null==e?void 0:e.name)||"",relationship:(null==e?void 0:e.relationship)||"",address:(null==e?void 0:e.address)||"",phone:null==e?void 0:e.phone,alternativeExecutor:null==e?void 0:e.alternativeExecutor},i))},x=s=>{var i,t,a,l;u({alternativeExecutor:n({name:(null==(i=null==e?void 0:e.alternativeExecutor)?void 0:i.name)||"",relationship:(null==(t=null==e?void 0:e.alternativeExecutor)?void 0:t.relationship)||"",address:(null==(a=null==e?void 0:e.alternativeExecutor)?void 0:a.address)||"",phone:null==(l=null==e?void 0:e.alternativeExecutor)?void 0:l.phone},s)})};return m.jsxs("div",{className:"space-y-6",children:[m.jsxs(N,{children:[m.jsxs(S,{children:[m.jsxs(D,{className:"flex items-center gap-2",children:[m.jsx(re,{className:"h-5 w-5"}),c("will.executor.title")]}),m.jsx(C,{children:c("will.executor.description")})]}),m.jsxs(E,{className:"space-y-6",children:[m.jsxs("div",{className:"space-y-4",children:[m.jsx("h4",{className:"font-medium",children:c("will.executor.primary")}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsxs(P,{htmlFor:"executor-name",children:[c("will.executor.name")," *"]}),m.jsx(B,{id:"executor-name",value:(null==e?void 0:e.name)||"",onChange:e=>u({name:e.target.value}),placeholder:c("will.executor.namePlaceholder")}),i.executor&&m.jsxs("p",{className:"text-sm text-destructive flex items-center gap-1",children:[m.jsx(M,{className:"h-3 w-3"}),i.executor]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsxs(P,{htmlFor:"executor-relationship",children:[c("will.executor.relationship")," *"]}),m.jsx(B,{id:"executor-relationship",value:(null==e?void 0:e.relationship)||"",onChange:e=>u({relationship:e.target.value}),placeholder:c("will.executor.relationshipPlaceholder")})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsxs(P,{htmlFor:"executor-address",children:[c("will.executor.address")," *"]}),m.jsx(le,{id:"executor-address",value:(null==e?void 0:e.address)||"",onChange:e=>u({address:e.target.value}),placeholder:c("will.executor.addressPlaceholder"),rows:3})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(P,{htmlFor:"executor-phone",children:c("will.executor.phone")}),m.jsx(B,{id:"executor-phone",type:"tel",value:(null==e?void 0:e.phone)||"",onChange:e=>u({phone:e.target.value}),placeholder:c("will.executor.phonePlaceholder")})]})]}),m.jsxs("div",{className:"flex items-center justify-between py-4 border-t",children:[m.jsxs("div",{className:"space-y-0.5",children:[m.jsx(P,{htmlFor:"has-alternative",children:c("will.executor.addAlternative")}),m.jsx("p",{className:"text-sm text-muted-foreground",children:c("will.executor.alternativeDescription")})]}),m.jsx(I,{id:"has-alternative",checked:o,onCheckedChange:e=>{d(e),e||u({alternativeExecutor:void 0})}})]}),o&&m.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[m.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[m.jsx(oe,{className:"h-4 w-4"}),c("will.executor.alternative")]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(P,{htmlFor:"alt-executor-name",children:c("will.executor.name")}),m.jsx(B,{id:"alt-executor-name",value:(null==(t=null==e?void 0:e.alternativeExecutor)?void 0:t.name)||"",onChange:e=>x({name:e.target.value}),placeholder:c("will.executor.namePlaceholder")})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(P,{htmlFor:"alt-executor-relationship",children:c("will.executor.relationship")}),m.jsx(B,{id:"alt-executor-relationship",value:(null==(a=null==e?void 0:e.alternativeExecutor)?void 0:a.relationship)||"",onChange:e=>x({relationship:e.target.value}),placeholder:c("will.executor.relationshipPlaceholder")})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(P,{htmlFor:"alt-executor-address",children:c("will.executor.address")}),m.jsx(le,{id:"alt-executor-address",value:(null==(l=null==e?void 0:e.alternativeExecutor)?void 0:l.address)||"",onChange:e=>x({address:e.target.value}),placeholder:c("will.executor.addressPlaceholder"),rows:3})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(P,{htmlFor:"alt-executor-phone",children:c("will.executor.phone")}),m.jsx(B,{id:"alt-executor-phone",type:"tel",value:(null==(r=null==e?void 0:e.alternativeExecutor)?void 0:r.phone)||"",onChange:e=>x({phone:e.target.value}),placeholder:c("will.executor.phonePlaceholder")})]})]})]})]}),m.jsx(N,{children:m.jsxs(E,{className:"pt-6",children:[m.jsx("h4",{className:"font-medium mb-2",children:c("will.executor.responsibilities")}),m.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[m.jsxs("li",{children:["• ",c("will.executor.responsibility1")]}),m.jsxs("li",{children:["• ",c("will.executor.responsibility2")]}),m.jsxs("li",{children:["• ",c("will.executor.responsibility3")]}),m.jsxs("li",{children:["• ",c("will.executor.responsibility4")]})]})]})})]})}function Ve({willContent:e,requirements:s,countryCode:i,onGenerate:t}){const{t:a}=ie(),[l,r]=y.useState(!1);return m.jsxs("div",{className:"space-y-6",children:[m.jsxs(N,{children:[m.jsx(S,{children:m.jsx(D,{className:"text-base",children:a("will.preview.legalRequirements")})}),m.jsxs(E,{className:"space-y-3",children:[m.jsx("div",{className:"flex items-center gap-2",children:s.requires_handwriting?m.jsxs(m.Fragment,{children:[m.jsx(M,{className:"h-4 w-4 text-orange-500"}),m.jsx("span",{className:"text-sm",children:a("will.requirements.handwriting")})]}):m.jsxs(m.Fragment,{children:[m.jsx(H,{className:"h-4 w-4 text-green-500"}),m.jsx("span",{className:"text-sm",children:a("will.requirements.typed")})]})}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("span",{className:"text-sm font-medium",children:[a("will.requirements.witnesses"),":"]}),m.jsx(U,{variant:"secondary",children:s.witness_count})]}),s.requires_notarization&&m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(M,{className:"h-4 w-4 text-orange-500"}),m.jsx("span",{className:"text-sm",children:a("will.requirements.notarization")})]}),m.jsx("div",{className:"text-sm text-muted-foreground mt-2",children:s.signature_requirements})]})]}),m.jsxs(N,{children:[m.jsxs(S,{children:[m.jsx(D,{children:a("will.preview.title")}),m.jsx(C,{children:a("will.preview.description")})]}),m.jsx(E,{children:m.jsx("div",{className:"bg-white p-8 rounded-lg border min-h-[600px]",children:(()=>{const i=s.legal_language;return m.jsxs("div",{className:"space-y-6 font-serif",children:[m.jsx("h2",{className:"text-2xl font-bold text-center",children:i.title}),m.jsxs("p",{children:[(t=i.identity,l=e.testator,t.replace("{name}",l.name||"").replace("{birthDate}",l.birthDate||"").replace("{address}",l.address||"")),i.soundMind&&`, ${i.soundMind}`,","]}),m.jsx("p",{children:i.revocation}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("p",{className:"font-medium",children:[i.beneficiaries,":"]}),e.beneficiaries.map((e,s)=>m.jsxs("div",{className:"ml-4",children:[m.jsxs("p",{children:[s+1,". ",e.name," (",e.relationship,")",e.identification&&` - ${e.identification}`]}),e.allocation.map((e,s)=>m.jsx("p",{className:"ml-4 text-sm",children:"percentage"===e.assetType?`- ${e.value}% ${a("will.preview.ofEstate")}`:`- ${e.description}`},s)),e.alternativeBeneficiary&&m.jsxs("p",{className:"ml-4 text-sm italic",children:[a("will.preview.alternative"),": ",e.alternativeBeneficiary]})]},e.id))]}),e.executor&&m.jsxs("div",{className:"space-y-2",children:[m.jsxs("p",{className:"font-medium",children:[a("will.preview.executor"),":"]}),m.jsxs("p",{className:"ml-4",children:[e.executor.name," (",e.executor.relationship,")",m.jsx("br",{}),e.executor.address,e.executor.phone&&m.jsxs(m.Fragment,{children:[m.jsx("br",{}),e.executor.phone]})]}),e.executor.alternativeExecutor&&m.jsxs("div",{className:"ml-4 mt-2",children:[m.jsxs("p",{className:"text-sm italic",children:[a("will.preview.alternativeExecutor"),":"]}),m.jsxs("p",{className:"text-sm",children:[e.executor.alternativeExecutor.name,"(",e.executor.alternativeExecutor.relationship,")"]})]})]}),m.jsxs("div",{className:"mt-12 space-y-8",children:[m.jsxs("div",{className:"flex justify-between",children:[m.jsx("div",{children:m.jsxs("p",{children:[i.date,a("will.willPreview._2")]})}),m.jsx("div",{children:m.jsxs("p",{children:[a("will.preview.place"),a("will.willPreview._2")]})})]}),m.jsxs("div",{className:"text-center",children:[m.jsx("p",{children:"_________________________________"}),m.jsx("p",{className:"text-sm",children:i.signature})]}),s.witness_count>0&&m.jsxs("div",{className:"space-y-6 mt-12 pt-6 border-t",children:[m.jsxs("p",{className:"font-medium",children:[a("will.preview.witnesses"),":"]}),Array.from({length:s.witness_count}).map((e,s)=>m.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[m.jsxs("div",{children:[m.jsxs("p",{children:[i.witness," ",s+1,":"]}),m.jsx("p",{className:"mt-4",children:"_________________________________"}),m.jsx("p",{className:"text-sm",children:a("will.preview.name")}),m.jsx("p",{className:"mt-2",children:"_________________________________"}),m.jsx("p",{className:"text-sm",children:a("will.preview.signature")})]}),m.jsxs("div",{children:[m.jsx("p",{children:" "}),m.jsx("p",{className:"mt-4",children:"_________________________________"}),m.jsx("p",{className:"text-sm",children:a("will.preview.address")}),m.jsx("p",{className:"mt-2",children:"_________________________________"}),m.jsx("p",{className:"text-sm",children:a("will.preview.date")})]})]},s))]})]})]});var t,l})()})})]}),m.jsxs(G,{className:"border-amber-200 bg-amber-50 dark:bg-amber-950/20",children:[m.jsx(M,{className:"h-4 w-4 text-amber-600"}),m.jsxs(K,{className:"text-amber-900 dark:text-amber-200",children:[m.jsx("strong",{className:"font-semibold",children:a("will.willPreview.critical_execution_instruction_3")}),m.jsx("br",{}),s.signature_requirements]})]}),m.jsxs(N,{className:"border-earth-primary/20 bg-earth-primary/5",children:[m.jsx(S,{children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"p-2 bg-earth-primary/10 rounded-lg",children:m.jsx(A,{className:"h-6 w-6 text-earth-primary"})}),m.jsxs("div",{className:"flex-1",children:[m.jsxs(D,{className:"text-lg flex items-center gap-2",children:[a("will.legalReview.title","Ensure Complete Confidence"),m.jsx(U,{variant:"secondary",className:"text-xs",children:a("will.willPreview.professional_review_4")})]}),m.jsx(C,{className:"mt-1",children:a("will.legalReview.description",`While this template is designed to be legally compliant in ${i}, every family's situation is unique. For a one-time fee, a legal expert from our partner law firm can personally review your generated will and answer any specific questions you have.`)})]})]})}),m.jsx(E,{children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[m.jsx(L,{className:"h-4 w-4"}),m.jsxs("span",{children:[a("will.willPreview.provided_by_certified_legal_pa_5"),i]})]}),m.jsxs(z,{onClick:()=>r(!0),className:"bg-earth-primary hover:bg-earth-primary/90",children:[m.jsx(A,{className:"mr-2 h-4 w-4"}),a("will.legalReview.button","Request a Legal Review")]})]})})]}),m.jsxs("div",{className:"flex justify-end gap-3",children:[m.jsxs(z,{variant:"outline",children:[m.jsx(ce,{className:"mr-2 h-4 w-4"}),a("will.preview.print")]}),m.jsxs(z,{onClick:t,children:[m.jsx(V,{className:"mr-2 h-4 w-4"}),a("will.preview.generatePDF")]})]}),l&&m.jsx(ne,{isOpen:l,onClose:()=>r(!1),preselectedType:"will_review",contextData:{countryCode:i,documentType:"will",generatedDate:(new Date).toISOString()}})]})}function He({onComplete:e}){const{t:s}=ie(),[i,t]=y.useState(0),[a,l]=y.useState(""),[r,o]=y.useState("en"),[u,x]=y.useState(null),[h,p]=y.useState({testator:{name:"",birthDate:"",address:""},beneficiaries:[],createdDate:(new Date).toISOString()}),[v,j]=y.useState({}),f=[{id:"country",title:s("will.steps.country"),icon:W,description:s("will.steps.countryDesc")},{id:"allocation",title:s("will.steps.allocation"),icon:T,description:s("will.steps.allocationDesc")},{id:"beneficiaries",title:s("will.steps.beneficiaries"),icon:T,description:s("will.steps.beneficiariesDesc")},{id:"executors",title:s("will.steps.executors"),icon:re,description:s("will.steps.executorsDesc")},{id:"review",title:s("will.steps.review"),icon:Y,description:s("will.steps.reviewDesc")}],w=()=>(i+1)/f.length*100,_=()=>{var e,t,l,r,n,c;const o={};switch(i){case 0:a||(o.country=s("will.validation.selectCountry")),"GB"!==a||a.includes("-")||(o.ukJurisdiction=s("will_generator.error_uk_jurisdiction_required")),(null==(e=h.testator)?void 0:e.name)||(o.name=s("will.validation.requiredField")),(null==(t=h.testator)?void 0:t.birthDate)||(o.birthDate=s("will.validation.requiredField")),(null==(l=h.testator)?void 0:l.address)||(o.address=s("will.validation.requiredField"));break;case 1:{const e=(null==(r=h.beneficiaries)?void 0:r.reduce((e,s)=>e+s.allocation.filter(e=>"percentage"===e.assetType).reduce((e,s)=>e+(s.value||0),0),0))||0;100!==e&&e>0&&(o.allocation=s("will.validation.allocation100")),h.beneficiaries&&0!==h.beneficiaries.length||(o.beneficiaries=s("will.validation.atLeastOneBeneficiary"));break}case 2:null==(n=h.beneficiaries)||n.forEach((e,i)=>{e.name||(o[`beneficiary_${i}_name`]=s("will.validation.requiredField")),e.relationship||(o[`beneficiary_${i}_relationship`]=s("will.validation.requiredField"))});break;case 3:(null==(c=h.executor)?void 0:c.name)||(o.executor=s("will.validation.executorRequired"))}return j(o),0===Object.keys(o).length},g=e=>{p(s=>c(n({},s),{beneficiaries:e}))},b=()=>d(this,null,function*(){if(_())try{X.success(s("will.generation.success")),null==e||e("generated-will-id")}catch(i){X.error(s("will.generation.error"))}else X.error(s("will.validation.fixErrors"))});return m.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsxs("div",{className:"flex items-center justify-between text-sm",children:[m.jsx("span",{className:"text-muted-foreground",children:s("will.progress",{current:i+1,total:f.length})}),m.jsxs("span",{className:"font-medium",children:[w().toFixed(0),"%"]})]}),m.jsx(Q,{value:w(),className:"h-2"})]}),m.jsx("div",{className:"flex items-center justify-between",children:f.map((e,s)=>{const t=e.icon,a=s===i,l=s<i;return m.jsxs("div",{className:"flex items-center "+(s<f.length-1?"flex-1":""),children:[m.jsxs("div",{className:"flex flex-col items-center",children:[m.jsx("div",{className:`\n                    w-10 h-10 rounded-full flex items-center justify-center transition-colors\n                    ${a?"bg-primary text-primary-foreground":""}\n                    ${l?"bg-primary/20 text-primary":""}\n                    ${a||l?"":"bg-muted text-muted-foreground"}\n                  `,children:l?m.jsx(H,{className:"h-5 w-5"}):m.jsx(t,{className:"h-5 w-5"})}),m.jsx("span",{className:`\n                  text-xs mt-1 text-center max-w-[80px]\n                  ${a?"font-medium":"text-muted-foreground"}\n                `,children:e.title})]}),s<f.length-1&&m.jsx("div",{className:`\n                  flex-1 h-[2px] mx-2 transition-colors\n                  ${l?"bg-primary/20":"bg-muted"}\n                `})]},e.id)})}),m.jsxs(N,{children:[m.jsxs(S,{children:[m.jsx(D,{children:f[i].title}),m.jsx(C,{children:f[i].description})]}),m.jsx(E,{children:m.jsxs(Z,{value:f[i].id,className:"w-full",children:[m.jsx(J,{value:"country",className:"mt-0",children:m.jsx(de,{selectedCountry:a,onSelect:(e,s)=>{l(e),x(s),s.language_code&&o(s.language_code)},testator:h.testator,onTestatorUpdate:e=>{p(s=>c(n({},s),{testator:e}))},errors:v})}),m.jsx(J,{value:"allocation",className:"mt-0",children:m.jsx(Ae,{beneficiaries:h.beneficiaries||[],onUpdate:g,errors:v})}),m.jsx(J,{value:"beneficiaries",className:"mt-0",children:m.jsx(Ue,{beneficiaries:h.beneficiaries||[],onUpdate:g,errors:v})}),m.jsx(J,{value:"executors",className:"mt-0",children:m.jsx(Le,{executor:h.executor,onUpdate:e=>{p(s=>c(n({},s),{executor:e}))},errors:v})}),m.jsx(J,{value:"review",className:"mt-0",children:m.jsx(Ve,{willContent:h,requirements:u,countryCode:a,onGenerate:b})})]})})]}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx(z,{variant:"outline",onClick:()=>{i>0&&t(i-1)},disabled:0===i,children:s("common.previous")}),i===f.length-1?m.jsxs(z,{onClick:b,children:[m.jsx(W,{className:"mr-2 h-4 w-4"}),s("will.generate")]}):m.jsx(z,{onClick:()=>{_()?i<f.length-1&&t(i+1):X.error(s("will.validation.fixErrors"))},children:s("common.next")})]}),Object.keys(v).length>0&&m.jsx(N,{className:"border-destructive",children:m.jsx(E,{className:"pt-6",children:m.jsxs("div",{className:"flex items-start gap-2",children:[m.jsx(M,{className:"h-5 w-5 text-destructive mt-0.5"}),m.jsxs("div",{className:"space-y-1",children:[m.jsx("p",{className:"text-sm font-medium text-destructive",children:s("will.validation.errorsFound")}),m.jsx("ul",{className:"text-sm text-muted-foreground space-y-1",children:Object.values(v).map((e,s)=>m.jsxs("li",{children:["• ",e]},s))})]})]})})})]})}Ke.displayName=ze.displayName;export{He as WillGenerator};
