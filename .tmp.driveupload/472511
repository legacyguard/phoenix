const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/AnalyticsDashboard-BtGHVB32.js","assets/vendor-ui-DOX-GngI.js","assets/vendor-react-BsuoGMue.js","assets/index-Co25CVR3.js","assets/vendor-auth-CQQWOfx5.js","assets/vendor-i18n-C5HfoztV.js","assets/vendor-supabase-DjxWZ-e5.js","assets/vendor-utils-DZ4dNBww.js","assets/index-CKypqex6.css","assets/progress-cOZa_oNl.js","assets/activity-DgRx_-qU.js","assets/target-vW6VfDZU.js","assets/trending-up-D8-VI5LC.js","assets/vendor-charts-CvH0jBkX.js"])))=>i.map(i=>d[i]);
import{_ as e}from"./vendor-supabase-DjxWZ-e5.js";import{j as s}from"./vendor-ui-DOX-GngI.js";import{r as a,N as t}from"./vendor-react-BsuoGMue.js";import{u as r}from"./vendor-auth-CQQWOfx5.js";import{u as i}from"./vendor-i18n-C5HfoztV.js";import{aq as n,S as l}from"./index-Co25CVR3.js";import"./vendor-utils-DZ4dNBww.js";const m=a.lazy(()=>e(()=>import("./AnalyticsDashboard-BtGHVB32.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13]))),c=()=>{const{t:e}=i(),{user:c}=r(),[d,o]=a.useState(null);return a.useEffect(()=>{var e,s;if(c){const a=(null==(e=c.emailAddresses)?void 0:e.some(e=>e.emailAddress.endsWith("@legacyguard.com")))||"admin"===(null==(s=c.publicMetadata)?void 0:s.role);o(a)}else o(!1)},[c]),null===d?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx(n,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-purple-600"}),s.jsx("p",{className:"text-gray-600",children:e("admin.verifyingAuthorization")})]})}):d?s.jsx(a.Suspense,{fallback:s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx(n,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-purple-600"}),s.jsx("p",{className:"text-gray-600",children:e("admin.loadingAnalytics")})]})}),children:s.jsx(m,{})}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center max-w-md",children:[s.jsx(l,{className:"h-16 w-16 mx-auto mb-4 text-red-500"}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:e("admin.accessDenied.title")}),s.jsx("p",{className:"text-gray-600 mb-6",children:e("admin.accessDenied.description")}),s.jsx(t,{to:"/dashboard",replace:!0})]})})};export{c as default};
