# LegacyGuard Heritage Vault - Production Environment Variables
# This file contains all production environment variables needed for the application
# Copy this file to .env.production and fill in the actual values
# IMPORTANT: Never commit the actual .env.production file to version control

# ====================
# SUPABASE CONFIGURATION
# ====================
# Get these from your Supabase project settings
VITE_SUPABASE_URL=https://your-project-id.supabase.co
VITE_SUPABASE_ANON_KEY=your-supabase-anon-key

# Supabase Service Role Key (for server-side operations)
# CRITICAL: Keep this secret, only use in secure server environments
SUPABASE_SERVICE_ROLE_KEY=your-supabase-service-role-key

# ====================
# EMAIL CONFIGURATION (RESEND)
# ====================
# Sign up at https://resend.com and get your API key
RESEND_API_KEY=re_your_resend_api_key
RESEND_FROM_EMAIL=notifications@yourdomain.com
RESEND_FROM_NAME=LegacyGuard Heritage Vault

# Email notification settings
EMAIL_NOTIFICATION_ENABLED=true
EMAIL_RATE_LIMIT_PER_HOUR=100

# ====================
# ENCRYPTION KEYS
# ====================
# Generate secure random keys using: openssl rand -base64 32
# CRITICAL: These keys are used for encrypting sensitive data like wills and documents

# Primary encryption key for will backups
WILL_BACKUP_ENCRYPTION_KEY=generate-a-secure-32-byte-base64-key-here

# Document encryption key
DOCUMENT_ENCRYPTION_KEY=generate-another-secure-32-byte-base64-key-here

# Guardian data encryption key
GUARDIAN_DATA_ENCRYPTION_KEY=generate-another-secure-32-byte-base64-key-here

# Encryption algorithm settings
ENCRYPTION_ALGORITHM=aes-256-gcm
ENCRYPTION_KEY_DERIVATION=pbkdf2
ENCRYPTION_KEY_ITERATIONS=100000

# ====================
# LEGAL VALIDATION WEBHOOKS
# ====================
# Legal validation service endpoints for will verification
LEGAL_VALIDATION_WEBHOOK_URL=https://api.legalvalidation.com/v1/webhook
LEGAL_VALIDATION_WEBHOOK_SECRET=generate-webhook-secret-here
LEGAL_VALIDATION_API_KEY=your-legal-validation-api-key

# Country-specific legal validation endpoints
LEGAL_VALIDATION_SK_ENDPOINT=https://api.slovak-legal.gov.sk/v1/validate
LEGAL_VALIDATION_SK_API_KEY=your-slovak-legal-api-key

LEGAL_VALIDATION_CZ_ENDPOINT=https://api.czech-legal.gov.cz/v1/validate
LEGAL_VALIDATION_CZ_API_KEY=your-czech-legal-api-key

# Webhook retry configuration
WEBHOOK_RETRY_ATTEMPTS=3
WEBHOOK_RETRY_DELAY_MS=5000
WEBHOOK_TIMEOUT_MS=30000

# ====================
# MONITORING & LOGGING
# ====================
# Sentry error tracking
SENTRY_DSN=https://your-sentry-key@o123456.ingest.sentry.io/1234567
SENTRY_ENVIRONMENT=production
SENTRY_TRACES_SAMPLE_RATE=0.1
SENTRY_PROFILES_SAMPLE_RATE=0.1

# LogRocket session replay (optional)
LOGROCKET_APP_ID=your-org/your-app

# Datadog APM (optional)
DATADOG_CLIENT_TOKEN=your-datadog-client-token
DATADOG_APPLICATION_ID=your-datadog-app-id
DATADOG_SITE=datadoghq.com
DATADOG_SERVICE=legacyguard-frontend
DATADOG_ENV=production

# Custom logging endpoint
LOG_ENDPOINT=https://logs.yourdomain.com/v1/ingest
LOG_API_KEY=your-logging-api-key
LOG_LEVEL=info # debug, info, warn, error
LOG_BATCH_SIZE=100
LOG_FLUSH_INTERVAL_MS=5000

# ====================
# APPLICATION SETTINGS
# ====================
# Public application URL
VITE_APP_URL=https://app.legacyguard.com
VITE_API_URL=https://api.legacyguard.com

# Application metadata
VITE_APP_NAME=LegacyGuard Heritage Vault
VITE_APP_VERSION=1.0.0
VITE_BUILD_ID=auto-generated-at-build-time

# Feature flags
VITE_ENABLE_WILL_GENERATION=true
VITE_ENABLE_GUARDIAN_PLAYBOOKS=true
VITE_ENABLE_EMERGENCY_ACCESS=true
VITE_ENABLE_DOCUMENT_SCANNING=true
VITE_ENABLE_LEGAL_VALIDATION=true
VITE_ENABLE_MULTI_LANGUAGE=true
VITE_ENABLE_PREMIUM_FEATURES=true

# ====================
# STORAGE & BACKUPS
# ====================
# Supabase Storage buckets
STORAGE_DOCUMENTS_BUCKET=documents
STORAGE_WILLS_BUCKET=wills
STORAGE_AVATARS_BUCKET=avatars
STORAGE_BACKUPS_BUCKET=backups

# Backup configuration
BACKUP_ENABLED=true
BACKUP_RETENTION_DAYS=365
BACKUP_FREQUENCY_HOURS=24
BACKUP_REDUNDANCY_COPIES=3

# CDN configuration (optional)
CDN_URL=https://cdn.legacyguard.com
CDN_CACHE_CONTROL=public, max-age=31536000

# ====================
# SECURITY SETTINGS
# ====================
# Session configuration
SESSION_DURATION_HOURS=24
SESSION_RENEWAL_THRESHOLD_HOURS=4
IDLE_TIMEOUT_MINUTES=30

# Password policy
PASSWORD_MIN_LENGTH=12
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_LOWERCASE=true
PASSWORD_REQUIRE_NUMBERS=true
PASSWORD_REQUIRE_SPECIAL=true

# Rate limiting
RATE_LIMIT_WINDOW_MS=900000 # 15 minutes
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_LOGIN_ATTEMPTS=5
RATE_LIMIT_DOCUMENT_UPLOADS=50

# CORS settings
CORS_ALLOWED_ORIGINS=https://app.legacyguard.com,https://www.legacyguard.com
CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOWED_HEADERS=Content-Type,Authorization,X-Requested-With

# ====================
# PAYMENT & BILLING (if applicable)
# ====================
# Stripe configuration
STRIPE_PUBLIC_KEY=pk_live_your-stripe-public-key
STRIPE_SECRET_KEY=sk_live_your-stripe-secret-key
STRIPE_WEBHOOK_SECRET=whsec_your-stripe-webhook-secret

# ====================
# THIRD-PARTY INTEGRATIONS
# ====================
# PDF generation service
PDF_SERVICE_URL=https://api.pdfgeneration.com/v1
PDF_SERVICE_API_KEY=your-pdf-service-key

# Document OCR service
OCR_SERVICE_URL=https://api.ocr-service.com/v1
OCR_SERVICE_API_KEY=your-ocr-service-key

# Translation service
TRANSLATION_SERVICE_URL=https://api.deepl.com/v2
TRANSLATION_API_KEY=your-deepl-api-key

# ====================
# PERFORMANCE SETTINGS
# ====================
# API timeouts
API_TIMEOUT_MS=30000
UPLOAD_TIMEOUT_MS=300000 # 5 minutes for large files

# Cache settings
CACHE_TTL_SECONDS=3600
CACHE_STALE_WHILE_REVALIDATE_SECONDS=86400

# Database connection pool
DB_POOL_MIN=2
DB_POOL_MAX=20
DB_STATEMENT_TIMEOUT_MS=30000

# ====================
# COMPLIANCE & LEGAL
# ====================
# GDPR compliance
GDPR_DATA_RETENTION_YEARS=7
GDPR_DELETION_GRACE_PERIOD_DAYS=30

# Audit logging
AUDIT_LOG_ENABLED=true
AUDIT_LOG_RETENTION_DAYS=2555 # 7 years

# Legal jurisdiction
DEFAULT_LEGAL_JURISDICTION=SK
SUPPORTED_JURISDICTIONS=SK,CZ

# ====================
# DEVELOPMENT & DEBUGGING
# ====================
# Only enable in staging, never in production
DEBUG_MODE=false
VERBOSE_LOGGING=false
SQL_QUERY_LOGGING=false

# ====================
# MAINTENANCE MODE
# ====================
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE=We are currently performing scheduled maintenance. We'll be back shortly.
MAINTENANCE_ALLOWED_IPS=192.168.1.1,10.0.0.1
